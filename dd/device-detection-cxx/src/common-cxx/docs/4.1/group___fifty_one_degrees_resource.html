<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Common C/C++: Resource Manager</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>

<link href="docs-main.min.css" rel="stylesheet" type="text/css" />

</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  
  <a id="projectlogo" href="../../documentation/4.1/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png"/></a>
  
  <span class="c-tagline">51Degrees Common C/C++
   &#160;<span id="projectnumber">4.1</span>
  </span>
  
  </h1>
  
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">A shared functionality library that is used by 51Degrees products</div>
  </div>
  
  <div id="main-nav"></div>
  
   
     <div class="g-search">
    <div class="c-search is-openable">
    <form class="c-search__form">
      <div id="MSearchBox" class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img id="MSearchSelect" src="icon-search.svg" class="b-icon" alt="Search" 
                 onmouseover="return searchBox.OnSearchSelectShow()"
                 onmouseout="return searchBox.OnSearchSelectHide()"/>
        <input type="text" id="MSearchField" autocomplete="off" class="c-search__input" id="inputSearch" placeholder="Type a class, namespace etc." aria-label="Search"
                 onfocus="searchBox.OnSearchFieldFocus(true)" 
                 onblur="searchBox.OnSearchFieldFocus(false)" 
                 onkeyup="searchBox.OnSearchFieldChange(event)">
         <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
      </div>
    </form>
  </div>
</div>

   
  
</div>

<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___fifty_one_degrees_resource.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="g-docs__header">
<h2 class="g-docs__page-title">Resource Manager<div class="c-breadcrumb"><ul class="c-breadcrumb"><li class="c-breadcrumb__item"><a class="el c-breadcrumb__link" href="group___fifty_one_degrees_common.html">Common</a></li></ul></div></h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<p>Resources to be managed by a resource manager. </p>
<h2>Terms</h2>
<p><b>Resource</b> : a pointer to anything which needs to be replaced or freed in a thread-safe manor</p>
<p><b>Manager</b> : manages access to a resource by handing out handles and altering the resource safely</p>
<p><b>Handle</b> : a reference to a resource which is being managed. This is the only way in which a resource should be accessed</p>
<h2>Introduction</h2>
<p>A Resource is a structure which can be changed or freed at any time, so is managed by a resource manager to allow safe concurrent access. Any resource which is being used will not be changed or freed until the last reference to it has been released.</p>
<h2>Create</h2>
<p>A resource manager is created by allocating the memory for the structure and calling the <a class="el" href="group___fifty_one_degrees_resource.html#gadb682992c7cf9594a57934e5a8d17a5b" title="Initialise a preallocated resource manager structure with a resource for it to manage access to.">fiftyoneDegreesResourceManagerInit</a> method to give it a resource to manage, and a method to free it when necessary.</p>
<h2>Get</h2>
<p>A handle to a resource can be fetched from a resource manager using the <a class="el" href="group___fifty_one_degrees_resource.html#gafa03f71e09580f35c09ae2da7e439668" title="Increments the usage counter for the resource and returns a handle that can be used to reference it.">fiftyoneDegreesResourceHandleIncUse</a> method. This increments the "in use" counter in a thread safe manor and returns an exclusive handle to the resource.</p>
<p>When getting a handle to a resource, if all the available handles are in use then the method will block until one is available.</p>
<h2>Release</h2>
<p>Once a resource handle is finished with, it must be released back to the resource manager using the <a class="el" href="group___fifty_one_degrees_resource.html#ga5bf63e09c20c43432cf9ea456b08aa7c" title="Decrements the usage counter.">fiftyoneDegreesResourceHandleDecUse</a> method. This releases the handle so it is available to other threads.</p>
<h2>Free</h2>
<p>A resource manager is freed, along with its resource, using the <a class="el" href="group___fifty_one_degrees_resource.html#ga771fa0b92f2c7dcdd38b203cdb74cd41" title="Frees any data associated with the manager and releases the resource making it eligible for freeing.">fiftyoneDegreesResourceManagerFree</a> method. This prevents any new handles from being acquired, and frees the resource being managed. If the resource has active handles, then a free method does not block. Instead it prevents new handles from being acquired and sets the manager to free the resource once the last handle has been released.</p>
<h2>Replace</h2>
<p>A resource can be replaced using the <a class="el" href="group___fifty_one_degrees_resource.html#gae392f634421999b0f5e6405d9086616c" title="Replaces the resource with the new resource.">fiftyoneDegreesResourceReplace</a> method. This swaps the resource being managed so that any new requests for a handle return the new resource. The existing resource is freed once the last active handle to it has been released.</p>
<h2>Usage Example</h2>
<div class="c-code__block c-code__block--outline"><div class="c-code__line"><span class="c-code__keyword">typedef</span> <span class="c-code__keyword">struct </span>someResourceType {</div><div class="c-code__line">    <a class="code" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> *handle; </div><div class="c-code__line">    <span class="c-code__keywordtype">void</span> *data;</div><div class="c-code__line">}</div><div class="c-code__line">someResourceType *resource;</div><div class="c-code__line"><a class="code" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> manager;</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Initialise the resource manager with a resource</span></div><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_resource.html#gadb682992c7cf9594a57934e5a8d17a5b">fiftyoneDegreesResourceManagerInit</a>(</div><div class="c-code__line">    &amp;manager,</div><div class="c-code__line">    resource,</div><div class="c-code__line">    &amp;resource-&gt;handle,</div><div class="c-code__line">    <a class="code" href="group___fifty_one_degrees_synonyms.html#gae0ecd1fc988dbb64ff0232a001e090bf">Free</a>);</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Check that the resource handle was set successfully</span></div><div class="c-code__line"><span class="c-code__keywordflow">if</span> (resource-&gt;handle != NULL) {</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Get a handle to the resource to ensure it is not freed by any</span></div><div class="c-code__line">    <span class="c-code__comment">// other threads</span></div><div class="c-code__line">    someResourceType *localResource = (someResourceType*)</div><div class="c-code__line">        <a class="code" href="group___fifty_one_degrees_resource.html#gafa03f71e09580f35c09ae2da7e439668">fiftyoneDegreesResourceHandleIncUse</a>(&amp;manager)-&gt;<a class="code" href="structfiftyone_degrees_resource_handle.html#a45c27969a9d9fe3192e6a8141fdf06aa">resource</a>;</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Free the resource. This operation will be postponed until there are</span></div><div class="c-code__line">    <span class="c-code__comment">// no remaining handled being used</span></div><div class="c-code__line">    <a class="code" href="group___fifty_one_degrees_resource.html#ga771fa0b92f2c7dcdd38b203cdb74cd41">fiftyoneDegreesResourceManagerFree</a>(&amp;manager);</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Do something with the resource while it is guaranteed to be available</span></div><div class="c-code__line">    <span class="c-code__comment">// ...</span></div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Release the resource so other threads know it is eligible for freeing</span></div><div class="c-code__line">    <a class="code" href="group___fifty_one_degrees_resource.html#ga5bf63e09c20c43432cf9ea456b08aa7c">fiftyoneDegreesResourceHandleDecUse</a>(resource-&gt;handle);</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// This is the point where the call to free the manager will actually</span></div><div class="c-code__line">    <span class="c-code__comment">// be carried out now that nothing is referencing the resource</span></div><div class="c-code__line">}</div></div> <!-- startMemberSections -->
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="nested-classes"></a>
Structs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Tracks the number of active uses of the resource within the manager.  <a href="structfiftyone_degrees_resource_handle.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Manager structure used to provide access to a shared and changing resource.  <a href="structfiftyone_degrees_resource_manager.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="func-members"></a>
Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gadb682992c7cf9594a57934e5a8d17a5b"><td class="c-table__cell">EXTERNAL&#160;void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_resource.html#gadb682992c7cf9594a57934e5a8d17a5b">fiftyoneDegreesResourceManagerInit</a> (<a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *manager, void *resource, <a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> **resourceHandle, void(*freeResource)(void *))
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gadb682992c7cf9594a57934e5a8d17a5b">Initialise a preallocated resource manager structure with a resource for it to manage access to.  <a href="#gadb682992c7cf9594a57934e5a8d17a5b">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga771fa0b92f2c7dcdd38b203cdb74cd41"><td class="c-table__cell">EXTERNAL&#160;void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_resource.html#ga771fa0b92f2c7dcdd38b203cdb74cd41">fiftyoneDegreesResourceManagerFree</a> (<a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *manager)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga771fa0b92f2c7dcdd38b203cdb74cd41">Frees any data associated with the manager and releases the resource making it eligible for freeing.  <a href="#ga771fa0b92f2c7dcdd38b203cdb74cd41">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gafa03f71e09580f35c09ae2da7e439668"><td class="c-table__cell">EXTERNAL&#160;<a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_resource.html#gafa03f71e09580f35c09ae2da7e439668">fiftyoneDegreesResourceHandleIncUse</a> (<a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *manager)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gafa03f71e09580f35c09ae2da7e439668">Increments the usage counter for the resource and returns a handle that can be used to reference it.  <a href="#gafa03f71e09580f35c09ae2da7e439668">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga5bf63e09c20c43432cf9ea456b08aa7c"><td class="c-table__cell">EXTERNAL&#160;void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_resource.html#ga5bf63e09c20c43432cf9ea456b08aa7c">fiftyoneDegreesResourceHandleDecUse</a> (<a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> *handle)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga5bf63e09c20c43432cf9ea456b08aa7c">Decrements the usage counter.  <a href="#ga5bf63e09c20c43432cf9ea456b08aa7c">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gae392f634421999b0f5e6405d9086616c"><td class="c-table__cell">EXTERNAL&#160;void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_resource.html#gae392f634421999b0f5e6405d9086616c">fiftyoneDegreesResourceReplace</a> (<a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *manager, void *newResource, <a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> **newResourceHandle)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gae392f634421999b0f5e6405d9086616c">Replaces the resource with the new resource.  <a href="#gae392f634421999b0f5e6405d9086616c">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="ga5bf63e09c20c43432cf9ea456b08aa7c"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga5bf63e09c20c43432cf9ea456b08aa7c">&#9670;&nbsp;</a></span>fiftyoneDegreesResourceHandleDecUse()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">EXTERNAL void fiftyoneDegreesResourceHandleDecUse <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>handle</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Decrements the usage counter. </p>
<p>If the count reaches zero then resource will become eligible to be freed either when the manager replaces it or when the manager is freed. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">handle</span> - to the resource which should be released by the manager </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gafa03f71e09580f35c09ae2da7e439668"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gafa03f71e09580f35c09ae2da7e439668">&#9670;&nbsp;</a></span>fiftyoneDegreesResourceHandleIncUse()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">EXTERNAL <a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a>* fiftyoneDegreesResourceHandleIncUse <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>manager</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Increments the usage counter for the resource and returns a handle that can be used to reference it. </p>
<p>The handle <b>MUST</b> be used to decrement the use count using the <a class="el" href="group___fifty_one_degrees_resource.html#ga5bf63e09c20c43432cf9ea456b08aa7c" title="Decrements the usage counter.">fiftyoneDegreesResourceHandleDecUse</a> method when the resource is finished with. The resource can be guaranteed not to be freed until after the decrement method has been called. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">manager</span> - the resource manager to initialise with the resource </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga771fa0b92f2c7dcdd38b203cdb74cd41"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga771fa0b92f2c7dcdd38b203cdb74cd41">&#9670;&nbsp;</a></span>fiftyoneDegreesResourceManagerFree()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">EXTERNAL void fiftyoneDegreesResourceManagerFree <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>manager</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Frees any data associated with the manager and releases the resource making it eligible for freeing. </p>
<p><b>IMPORTANT</b> : The resource itself is not necessarily freed after this operation i.e. if there are still handles pointing to this resource, then the freeing will be left until the last handle is released. For this reason, the manager pointer <b>MUST</b> remain valid until the last handle has been released.</p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">manager</span> - the resource manager to initialise with the resource </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gadb682992c7cf9594a57934e5a8d17a5b"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gadb682992c7cf9594a57934e5a8d17a5b">&#9670;&nbsp;</a></span>fiftyoneDegreesResourceManagerInit()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">EXTERNAL void fiftyoneDegreesResourceManagerInit <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>manager</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>resource</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> **<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>resourceHandle</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">void(*)(void *)<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>freeResource</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Initialise a preallocated resource manager structure with a resource for it to manage access to. </p>
<p>The resourceHandle parameter must point to the handle within the resource under management so that the handle can be assigned to the resource before the resource is placed under management.</p>
<p><b>IMPORTANT</b> : The pointer to the manager <b>MUST</b> remain valid for the duration of any resource's existence i.e. until the last handle has been released and the resource freed.</p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">manager</span> - the resource manager to initialise with the resource </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">resource</span> - pointer to the resource which the manager should manage access to </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">resourceHandle</span> - points to the location the new handle should be stored </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">freeResource</span> - method to use when freeing the resource </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gae392f634421999b0f5e6405d9086616c"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gae392f634421999b0f5e6405d9086616c">&#9670;&nbsp;</a></span>fiftyoneDegreesResourceReplace()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">EXTERNAL void fiftyoneDegreesResourceReplace <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_manager.html">fiftyoneDegreesResourceManager</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>manager</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>newResource</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_resource_handle.html">fiftyoneDegreesResourceHandle</a> **<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>newResourceHandle</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Replaces the resource with the new resource. </p>
<p>If the existing resource is not being used it will be freed. Otherwise it is left to the decrement function to free the resource when the usage count is zero. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">manager</span> - the resource manager to initialise with the resource </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">newResource</span> - pointer to the resource which the manager should manage access to </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">newResourceHandle</span> - points to the location the new handle should be stored </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
<!--endtest-->
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#nested-classes">Structs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#func-members">Functions</a></li>      </ul>
    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
